<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

  <!--radix_placeholder_meta_tags-->
<title>My Blog: Ranking from Comparisons</title>

<meta property="description" itemprop="description" content="A brief write-up on rank aggregation from pairwise comparisons."/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2019-03-09"/>
<meta property="article:created" itemprop="dateCreated" content="2019-03-09"/>
<meta name="article:author" content="Elisa Ou"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="My Blog: Ranking from Comparisons"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="A brief write-up on rank aggregation from pairwise comparisons."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="My Blog"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="My Blog: Ranking from Comparisons"/>
<meta property="twitter:description" content="A brief write-up on rank aggregation from pairwise comparisons."/>

<!--/radix_placeholder_meta_tags-->
  
  <meta name="citation_reference" content="citation_title=Ranking on graph data;citation_publication_date=2006;citation_publisher=ACM;citation_author=Shivani Agarwal"/>
  <meta name="citation_reference" content="citation_title=When can we rank well from comparisons of o (n$\backslash$log (n)) non-actively chosen pairs?;citation_publication_date=2016;citation_author=Arun Rajkumar;citation_author=Shivani Agarwal"/>
  <meta name="citation_reference" content="citation_title=Accelerated spectral ranking;citation_publication_date=2018;citation_author=Arpit Agarwal;citation_author=Prathamesh Patil;citation_author=Shivani Agarwal"/>
  <meta name="citation_reference" content="citation_title=Stability and generalization of bipartite ranking algorithms;citation_publication_date=2005;citation_publisher=Springer;citation_author=Shivani Agarwal;citation_author=Partha Niyogi"/>
  <meta name="citation_reference" content="citation_title=Iterative ranking from pair-wise comparisons;citation_publication_date=2012;citation_author=Sahand Negahban;citation_author=Sewoong Oh;citation_author=Devavrat Shah"/>
  <meta name="citation_reference" content="citation_title=Stability and generalization;citation_publication_date=2002;citation_volume=2;citation_author=Olivier Bousquet;citation_author=André Elisseeff"/>
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","bibliography","output"]}},"value":[{"type":"character","attributes":{},"value":["Ranking from Comparisons"]},{"type":"character","attributes":{},"value":["A brief write-up on rank aggregation from pairwise comparisons."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url","affiliation"]}},"value":[{"type":"character","attributes":{},"value":["Elisa Ou"]},{"type":"character","attributes":{},"value":["https://elisaoh.github.io"]},{"type":"character","attributes":{},"value":["Department of ECE, UW-Madison"]}]}]},{"type":"character","attributes":{},"value":["03-09-2019"]},{"type":"character","attributes":{},"value":["biblio.bib"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_depth"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["biblio.bib","img/01loss.png","img/colormatrix.png","img/cycle.png","img/hingeloss.png","img/PageRank.jpg","ranking-from-comparisons_files/bowser-1.9.3/bowser.min.js","ranking-from-comparisons_files/distill-2.2.21/template.v2.js","ranking-from-comparisons_files/jquery-1.11.3/jquery.min.js","ranking-from-comparisons_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #455a64;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative;}
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

</style>

<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for table of contents */

.d-toc {
  color: rgba(0,0,0,0.8);
  font-size: 0.8em;
  line-height: 1em;
}

.d-toc-header {
  font-size: 0.6rem;
  font-weight: 400;
  color: rgba(0, 0, 0, 0.5);
  text-transform: uppercase;
  margin-top: 0;
  margin-bottom: 1.3em;
}

.d-toc a {
  border-bottom: none;
}

.d-toc ul {
  padding-left: 0;
}

.d-toc li>ul {
  padding-top: 0.8em;
  padding-left: 16px;
  margin-bottom: 0.6em;
}

.d-toc ul,
.d-toc li {
  list-style-type: none;
}

.d-toc li {
  margin-bottom: 0.9em;
}

.d-toc-separator {
  margin-top: 20px;
  margin-bottom: 2em;
}

.d-article-with-toc {
  border-top: none;
  padding-top: 0;
}



/* Tweak code blocks (note that this CSS is repeated above in an injection
   into the d-code shadow dom) */

d-code {
  overflow-x: auto !important;
}

pre.d-code code.d-code {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

pre.text-output {

  font-size: 12px;
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

@media(min-width: 768px) {

d-code {
  overflow-x: visible !important;
}

pre.d-code code.d-code  {
    padding-left: 18px;
    font-size: 14px;
}
pre.text-output {
  font-size: 14px;
}
}

/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}



/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}


/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // create d-bibliography
  var bibliography = $('<d-bibliography></d-bibliography>');
  $('#distill-bibliography').wrap(bibliography);

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace citations with <d-cite>
  $('.citation').each(function(i, val) {
    appendix = true;
    var cites = $(this).attr('data-cites').split(" ");
    var dt_cite = $('<d-cite></d-cite>');
    dt_cite.attr('key', cites.join());
    $(this).replaceWith(dt_cite);
  });
  // remove refs
  $('#refs').remove();

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-toc a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // replace code blocks with d-code
  $('pre>code').each(function(i, val) {
    var code = $(this);
    var pre = code.parent();
    var clz = "";
    var language = pre.attr('class');
    if (language) {
      // map unknown languages to "clike" (without this they just dissapear)
      if ($.inArray(language, ["bash", "clike", "css", "go", "html",
                               "javascript", "js", "julia", "lua", "markdown",
                               "markup", "mathml", "python", "svg", "xml"]) == -1)
        language = "clike";
      language = ' language="' + language + '"';
      var dt_code = $('<d-code block' + language + clz + '></d-code>');
      dt_code.text(code.text());
      pre.replaceWith(dt_code);
    } else {
      code.addClass('text-output').unwrap().changeElementType('pre');
    }
  });

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('d-code, pre.text-output, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // table of contents
    if (have_authors) // adjust border if we are in authors
      $('.d-toc').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // inject pre code styles (can't do this with a global stylesheet b/c a shadow root is used)
    $('d-code').each(function(i, val) {
      var style = document.createElement('style');
      style.innerHTML = 'pre code { padding-left: 10px; font-size: 12px; border-left: 2px solid rgba(0,0,0,0.1); } ' +
                        '@media(min-width: 768px) { pre code { padding-left: 18px; font-size: 14px; } }';
      if (this.shadowRoot)
        this.shadowRoot.appendChild(style);
    });

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-toc-header').remove();
  $('.d-toc').remove();
  $('.d-toc-separator').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Ranking from Comparisons","description":"A brief write-up on rank aggregation from pairwise comparisons.","authors":[{"author":"Elisa Ou","authorURL":"https://elisaoh.github.io","affiliation":"Department of ECE, UW-Madison","affiliationURL":"#"}],"publishedDate":"2019-03-09T00:00:00.000-06:00","citationText":"Ou, 2019"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">My Blog</a>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Ranking from Comparisons</h1>
<p>A brief write-up on rank aggregation from pairwise comparisons.</p>
</div>

<div class="d-byline">
  Elisa Ou <a href="https://elisaoh.github.io" class="uri">https://elisaoh.github.io</a> (Department of ECE, UW-Madison)
  
<br/>03-09-2019
</div>

<div class="d-article">
<h3 class="d-toc-header">Table of Contents</h3>
<nav class="d-toc" id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#deterministic-ordering">Deterministic Ordering</a><ul>
<li><a href="#ranking-on-graph-data">Ranking on Graph Data</a></li>
<li><a href="#interpretation-of-penalty-term">Interpretation of penalty term</a></li>
<li><a href="#stability-bound-for-biparte-graph">Stability bound for biparte graph</a></li>
</ul></li>
<li><a href="#classes-of-preference-matrices">Classes of Preference Matrices</a><ul>
<li><a href="#general-condition">General Condition</a></li>
<li><a href="#undeterministic-models">Undeterministic models</a></li>
</ul></li>
<li><a href="#iterative-ranking-from-pair-wise-comparisons-random-walk">Iterative Ranking from Pair-wise Comparisons (Random Walk)</a><ul>
<li><a href="#introduction-1">Introduction</a></li>
<li><a href="#random-walk-approach">Random walk approach</a></li>
<li><a href="#error-bound">Error Bound</a></li>
<li><a href="#mixing-time">Mixing time</a></li>
</ul></li>
<li><a href="#low-rank-completion">Low rank completion</a></li>
<li><a href="#summary">Summary</a></li>
<li><a href="#acknowledgments">Acknowledgments</a></li>
</ul>
</nav>
<hr class="d-toc-separator"/>
<h2 id="introduction">Introduction</h2>
<p>The problem is called <strong>rank aggregation</strong>, which consider this situation that given the results of multiple pairwise comparisons of items, want to know the overall ranking of all items. The resulted overall ranking should match the pairwise comparisons to the largest extent.</p>
<p>The problem could be formulated as the following: given <span class="math inline">\(n\)</span> items <span class="math inline">\(\{1,2,\dots,n \}\)</span> to be compared and assume there is a latent preference matrix <span class="math inline">\(P \in [0,1]^{n\times n}\)</span>. The entry <span class="math inline">\(P_{i,j}\)</span> in <span class="math inline">\(P\)</span> denote the probability item <span class="math inline">\(x_i\)</span> will beat item <span class="math inline">\(x_j\)</span>. The probability could be <span class="math inline">\(0\)</span> or <span class="math inline">\(1\)</span> for deterministic/noiseless case and in <span class="math inline">\((0,1)\)</span> if the observations are noisy.</p>
<p>To formulate this problem as a <strong>reasonable</strong> and <strong>solvable</strong> ranking problem, we require these two following constrains on matrix <span class="math inline">\(P\)</span>:<br />
1. For each pair of items <span class="math inline">\(x_i\)</span> and <span class="math inline">\(x_j\)</span>, it is rather <span class="math inline">\(x_i\)</span> beats <span class="math inline">\(x_j\)</span> or <span class="math inline">\(x_j\)</span> beats <span class="math inline">\(x_i\)</span>, thus <span class="math inline">\(P_{ij} + P_{ji} =1\)</span>. (We will also consider <span class="math inline">\(x_i\)</span> ties <span class="math inline">\(x_j\)</span> in some special case.)<br />
2. <strong>Stochastic transitivity</strong>(ST) condition (Directed Acyclic Graph): if <span class="math inline">\(P_{ij} &gt; \frac{1}{2}\)</span> and <span class="math inline">\(P_{jk} &gt; \frac{1}{2}\)</span>, then <span class="math inline">\(P_{ik} &gt; \frac{1}{2}\)</span>. That is saying if there is an item <span class="math inline">\(i\)</span> ranked higher than <span class="math inline">\(j\)</span> and <span class="math inline">\(j\)</span> higher than <span class="math inline">\(k\)</span> with high probability, then <span class="math inline">\(i\)</span> should also beat <span class="math inline">\(j\)</span> with high probability.</p>
<aside>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span id="fig:unnamed-chunk-1"></span>
<img src="img/cycle.png" alt="An invalid setting where i beats j, j beats k and k beats i" width="297" />
<p class="caption">
Figure 1: An invalid setting where i beats j, j beats k and k beats i
</p>
</div>
</div>
</aside>
<h2 id="deterministic-ordering">Deterministic Ordering</h2>
<p>First consider a simply case addressed as deterministic ordering. In this setting, <span class="math inline">\(P_{ij} \in \{0,1, \forall i \neq j\)</span>, which is saying that, for a latent ranking function <span class="math inline">\(f(x)\)</span> such that <span class="math inline">\(f(i) &gt; f(j)\)</span>, <span class="math inline">\(i\)</span> will always beat <span class="math inline">\(j\)</span> in comparisons. This paper<span class="citation" data-cites="agarwal2006ranking">(Agarwal <a href="#ref-agarwal2006ranking">2006</a>)</span> studies this setting on graph data (the similarity between items are considered) and proposes an algorithm with an RKHS interpretation.</p>
<h3 id="ranking-on-graph-data">Ranking on Graph Data</h3>
<p>Weighted data graph <span class="math inline">\(G=(V,E,w)\)</span>, where <span class="math inline">\(w_{ij}\)</span> on edge <span class="math inline">\(e_{ij}\)</span> represents similarity between <span class="math inline">\(v_1\)</span> and <span class="math inline">\(v_n\)</span>. We also have access to an order graph <span class="math inline">\(\Gamma = (V,\Sigma,\tau)\)</span> and <span class="math inline">\(\tau : \Sigma \rightarrow \mathbb{R}^{+}\)</span> is the penalty for misranking <span class="math inline">\((v_i,v_j) \in \Sigma\)</span>, which denotes in this comparison <span class="math inline">\(v_i\)</span> is ranked higher than <span class="math inline">\(v_j\)</span>.</p>
<p>The goal is to learn a ranking/score function for vertices/items in <span class="math inline">\(V\)</span>, denoted by <span class="math inline">\(f:V \rightarrow \mathbb{R}\)</span>. Let <span class="math inline">\(\mathbf{f} \in \mathbb{R}^n\)</span>, where <span class="math inline">\(f_i = f(v_i)\)</span> the ranking for <span class="math inline">\(v_i\)</span>.</p>
<p>Empirically define the loss of misranking <span class="math inline">\((v_i,v_j)\)</span> as <span class="math display">\[\ell(f;v_i,v_j) = \begin{cases}
                        1 \quad \text{if $f(v_i) &lt; f(v_j)$} \\
                         \frac{1}{2} \quad\text{if $f(v_i) = f(v_j)$} \\
                         0 \quad \text{if $f(v_i) &lt; f(v_j)$}
                        \end{cases}\]</span></p>
<aside>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span id="fig:unnamed-chunk-2"></span>
<img src="img/01loss.png" alt="The step function like loss function." width="320" />
<p class="caption">
Figure 2: The step function like loss function.
</p>
</div>
</div>
</aside>
<p>So given a function <span class="math inline">\(f\)</span>, the empirical error is <span class="math display">\[\hat{R}(f;\Gamma)= \frac{1}{|\Sigma|}\sum_{(v_i,v_j)\in \Sigma} \tau(v_i,v_j)\cdot\ell(f;v_i,v_j).\]</span><br />
As the objective above is step-function which is hard to minimize, similar using hinge loss as a surrogate of <span class="math inline">\((0,1)\)</span>-loss, we use <span class="math display">\[\ell_{h}\left(f ; v_{i}, v_{j}\right)=\left(1-\left(f\left(v_{i}\right)-f\left(v_{j}\right)\right)\right)_{+},\]</span></p>
<aside>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span id="fig:unnamed-chunk-3"></span>
<img src="img/hingeloss.png" alt="The continuous function upper bounded 0-1 loss." width="310" data-distill-preview=1 />
<p class="caption">
Figure 3: The continuous function upper bounded 0-1 loss.
</p>
</div>
</div>
</aside>
<p>and the empirical loss becomes <span class="math display">\[\hat{R}_{\ell_{h}}(f ; \Gamma)=\frac{1}{|\Sigma|} \sum_{\left(v_{i}, v_{j}\right) \in \Sigma} \tau\left(v_{i}, v_{j}\right) \cdot \ell_{h}\left(f ; v_{i}, v_{j}\right).\]</span><br />
Then we could formulate this problem as an optimazation problem <span class="math display">\[\min _{f : V \rightarrow \mathbb{R}}\left\{\hat{R}_{\ell_{h}}(f ; \Gamma)+\lambda \mathcal{S}(f)\right\},\]</span></p>
<p>where the penalty term is <span class="math display">\[\mathcal{S}(f)=\mathbf{f}^{T} \mathbf{L} \mathbf{f},\]</span> and <span class="math inline">\(L\)</span> is the normalized Laplacian matrix for data graph <span class="math inline">\(G\)</span>.</p>
<aside>
Normalized Laplacian matrix is defined as <span class="math display">\[\mathbf{L}=\mathbf{D}^{-1 / 2}(\mathbf{D}-\mathbf{W}) \mathbf{D}^{-1 / 2},\]</span> where <span class="math inline">\(D\)</span> is a diagonal matrix of outer degree and <span class="math inline">\(W\)</span> the weighted adjacency matrix. More details see the wikipedia page of <a href="https://en.wikipedia.org/wiki/Laplacian_matrix">Laplacian matrix</a>.
</aside>
<h3 id="interpretation-of-penalty-term">Interpretation of penalty term</h3>
<p>As we are given the data graph, a regularizer term could be set as to encourage the <strong>smoothness</strong> of the learned function with respect to the similarity between items, which means items with high similarity should have similar ranking.<br />
Defind the degree function of <span class="math inline">\(G\)</span> as <span class="math display">\[d\left(v_{i}\right)=\sum_{j :\left\{v_{i}, v_{j}\right\} \in E} w\left(v_{i}, v_{j}\right)\]</span> First introduce the <em>edge derivative</em> of a function <span class="math inline">\(f\)</span> along edge <span class="math inline">\({v_i,v_j} \in E\)</span> at vertex <span class="math inline">\(v_i\)</span> is <span class="math display">\[\left.\frac{\partial f}{\partial\left\{v_{i}, v_{j}\right\}}\right|_{v_{i}}=\sqrt{\frac{w\left(v_{i}, v_{j}\right)}{d\left(v_{i}\right)}} f\left(v_{i}\right)-\sqrt{\frac{w\left(v_{i}, v_{j}\right)}{d\left(v_{j}\right)}} f\left(v_{j}\right),\]</span> which gives more weight to edges with larger <span class="math inline">\(w(v_i,v_j)\)</span>.</p>
<p>Then the <em>local variation</em> for a node <span class="math inline">\(v_i\)</span> is<br />
<span class="math display">\[\left\|\nabla_{v_{i}} f\right\|=\sqrt{\sum_{j :\left\{v_{i}, v_{j}\right\} \in E}\left(\left.\frac{\partial f}{\partial\left\{v_{i}, v_{j}\right\}}\right|_{v_{i}}\right)^{2}}\]</span><br />
So the total smoothness of <span class="math inline">\(f\)</span> over all nodes is<br />
<span class="math display">\[\mathcal{S}(f)=\frac{1}{2} \sum_{i=1}^{n}\left\|\nabla_{v_{i}} f\right\|^{2}.\]</span><br />
Normalized Laplacian matrix<br />
<span class="math display">\[\mathbf{L}=\mathbf{D}^{-1 / 2}(\mathbf{D}-\mathbf{W}) \mathbf{D}^{-1 / 2}\]</span><br />
And this term is exactly <span class="math display">\[\mathcal{S}(f)=\mathbf{f}^{T} \mathbf{L} \mathbf{f}.\]</span><br />
If consider <span class="math inline">\(\mathcal{F}\)</span> as column space of <span class="math inline">\(L^+\)</span>, it is easy to see tha <span class="math inline">\(\mathcal{F}\)</span> is an <a href="https://en.wikipedia.org/wiki/Reproducing_kernel_Hilbert_space">Reproducing kernel Hilbert space</a> (as <span class="math inline">\(L\)</span> is symmetric p.s.d.). We could rewrite this term as <span class="math inline">\(\mathcal{S}(f)=\|\mathbf{f}\|_{\mathcal{F}}^{2}\)</span>, which is an <span class="math inline">\(L2\)</span>-regularization in a given RKHS.</p>
<h3 id="stability-bound-for-biparte-graph">Stability bound for biparte graph</h3>
<p>This RKHS interpretation could lead to a stability bound for this algorithm with special case. This case considers the order graph <span class="math inline">\(\Gamma\)</span> as a “fully connected” biparte graph with two part <span class="math inline">\(S_+\)</span> and <span class="math inline">\(S_-\)</span>, where <span class="math inline">\(\forall v \in S_+\)</span> and <span class="math inline">\(\forall u \in S_-\)</span>, there is a directed edge <span class="math inline">\((v,u)\)</span>. Under this special case, the order data is not very different from having binary labels.<br />
The formal statement could be found in <strong>Theorem 1</strong> <span class="citation" data-cites="agarwal2006ranking">(Agarwal <a href="#ref-agarwal2006ranking">2006</a>)</span> and the proof can be found in Theorem 3 and 4 from their previous work on biparte graph <span class="citation" data-cites="agarwal2005stability">(Agarwal and Niyogi <a href="#ref-agarwal2005stability">2005</a>)</span>.</p>
<aside>
By <strong>stability bound</strong>, here we mean the expected error are bounded by empirical error plus some terms for a stable algorithm. More details about this bound could be found in <span class="citation" data-cites="bousquet2002stability">(Bousquet and Elisseeff <a href="#ref-bousquet2002stability">2002</a>)</span>.
</aside>
<h2 id="classes-of-preference-matrices">Classes of Preference Matrices</h2>
<p>After the simplest deterministic case, we now consider the probabilistic(noisy) setup. There are actually several common models that have been explored. The description is borrowed from <span class="citation" data-cites="rajkumar2016can">(Rajkumar and Agarwal <a href="#ref-rajkumar2016can">2016</a>)</span>.</p>
<h3 id="general-condition">General Condition</h3>
<p>To summerize those conditions described informally in Introduction, all preferences matrices should be in this set <span class="math display">\[\mathcal{P}_{n}=\left\{\mathbf{P} \in[0,1]^{n \times n} | P_{i j}+P_{j i}=1 \forall i, j\right\}.\]</span> Those satisfy stochastic transitivity (ST) condition <span class="math display">\[\mathcal{P}_{n}^{\mathrm{ST}}=\left\{\mathbf{P} \in \mathcal{P}_{n} | i&gt;\mathbf{p} j, j&gt;_{\mathbf{P}} k \Longrightarrow i&gt;_{\mathbf{P}} k\right\}.\]</span> Deterministic ordering (DO) model in part 2 have preferences matrices <span class="math display">\[\mathcal{P}_{n}^{\mathrm{DO}}=\left\{\mathbf{P} \in \mathcal{P}_{n} | \exists \sigma \in \mathcal{S}_{n} : \sigma(i)&lt;\sigma(j) \Longrightarrow P_{i j}=1\right\}.\]</span></p>
<h3 id="undeterministic-models">Undeterministic models</h3>
<p><strong>Noisy permutation</strong> model <span class="math display">\[\mathcal{P}_{n}^{\mathrm{NP}}=\left\{\mathbf{P} \in \mathcal{P}_{n} | \exists \sigma \in \mathcal{S}_{n}, p \in\left[0, \frac{1}{2}\right) : \sigma(i)&lt;\sigma(j) \Longrightarrow P_{i j}=1-p\right\}\]</span> <span class="math display">\[\mathcal{P}_{n}^{\mathrm{DO}} \subseteq \mathcal{P}_{n}^{\mathrm{NP}} \subseteq \mathcal{P}_{n}^{\mathrm{ST}}\]</span><br />
<strong>Bradley-Terry-Luce</strong> model<br />
For BTL model, there is a scoring/ranking <span class="math inline">\(w_i\)</span> for each item <span class="math inline">\(i\)</span>, and <span class="math display">\[\mathcal{P}_{n}^{\mathrm{BTL}}=\left\{\mathbf{P} \in \mathcal{P}_{n} | \exists \mathbf{w} \in \mathbb{R}_{++}^{n} : P_{i j}=\frac{w_{i}}{w_{i}+w_{j}} \forall i, j\right\}.\]</span> <strong>Thurstone</strong> model<br />
Thurstone model is similar to BLT model, but using a different link function for probability: <span class="math display">\[\mathcal{P}_{n}^{\text { Thu }}=\left\{\mathbf{P} \in \mathcal{P}_{n} | \exists \mathbf{s} \in \mathbb{R}^{n} : P_{i j}=\Phi\left(s_{i}-s_{j}\right) \forall i, j\right\}.\]</span></p>
<h2 id="iterative-ranking-from-pair-wise-comparisons-random-walk">Iterative Ranking from Pair-wise Comparisons (Random Walk)</h2>
<h3 id="introduction-1">Introduction</h3>
<p><em>Rank Centrality</em> in <span class="citation" data-cites="negahban2012iterative">(Negahban, Oh, and Shah <a href="#ref-negahban2012iterative">2012</a>)</span> is an algorithm that uses the concept of random walk to solve this rank aggregation problem. The intuition is to construct a random walk that it is likely to go from <span class="math inline">\(v_i\)</span> to <span class="math inline">\(v_j\)</span> if item <span class="math inline">\(i\)</span> has rank lower than <span class="math inline">\(j\)</span>. When it reaches a balance state(stationary distribution), the distribution will tend to be close to the ranking/weight of items. This idea is actually similar to Google’s PageRank.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-4"></span>
<img src="img/PageRank.jpg" alt="PageRank, resource: https://en.wikipedia.org/wiki/File:PageRanks-Example.jpg" class=external />
<p class="caption">
Figure 4: PageRank, resource: <a href="https://en.wikipedia.org/wiki/File:PageRanks-Example.jpg" class="uri">https://en.wikipedia.org/wiki/File:PageRanks-Example.jpg</a>
</p>
</div>
</div>
<h3 id="random-walk-approach">Random walk approach</h3>
<p>For this problem, we use BLT model as a demonstration, but the algorithm itself is model independent. Consider <span class="math inline">\(n\)</span> items and a weight score <span class="math inline">\(w_i \in \mathbb{R}_+\)</span> for each item. In this setting, a pair of items are compared <span class="math inline">\(k\)</span> times in total, then denote the result by <span class="math inline">\(Y^l_{ij}\)</span> be <span class="math inline">\(1\)</span> if <span class="math inline">\(j\)</span> is prefered and <span class="math inline">\(0\)</span> otherwise <span class="math inline">\(1 \leq l \leq k\)</span>. Then we define <span class="math inline">\(2\)</span> terms as follows: * <span class="math inline">\(a_{ij}\)</span> the fraction of times <span class="math inline">\(j\)</span> prefered over <span class="math inline">\(i\)</span>. <span class="math inline">\(a_{i j}=(1 / k) \sum_{l=1}^{k} Y_{i j}^{l}\)</span><br />
* <span class="math inline">\(A_{i j}\)</span> If the random walk is on a weighted graph <span class="math inline">\(G=([n],E,A)\)</span>. The weighted edge <span class="math inline">\(A_{i j}=a_{i j} /\left(a_{i j}+a_{j i}\right)\)</span>, <span class="math inline">\(A_{j i}=a_{j i} /\left(a_{i j}+a_{j i}\right)\)</span></p>
<!-- The BTL model gives us \(\mathbb{P}\left(Y_{i j}^{l}=1\right)=\frac{w_{j}}{w_{i}+w_{j}}\).  -->
<aside>
Notice that here the edge weight is not the cost, but the probability of going from one vertex to another.
</aside>
<p>In this random walk, the probability(edge weight) walks from item <span class="math inline">\(i\)</span> to item <span class="math inline">\(j\)</span> is <span class="math inline">\(P_{ij}=\mathbb{P}\left(X_{t+1}=j | X_{t}=i\right)\)</span>. By definition, the transition matrix should be row stochastic, i.e. <span class="math inline">\(\sum_j P_{ij} =1\)</span>. Scale all edge weights by <span class="math inline">\(1/d_{max}\)</span> the maximum out-degree and add self-loop to those nodes with out-degree less than <span class="math inline">\(d_{max}\)</span>:</p>
<p><span class="math display">\[P_{i j}=\left\{\begin{aligned} \frac{1}{d_{\max }} A_{i j} &amp;\quad \text { if } i \neq j \\ 1-\frac{1}{d_{\max }} \sum_{k \neq i} A_{i k} &amp;\quad \text { if } i=j \end{aligned}\right.\]</span> To see the stationary distribution of this random walk is exactly the <span class="math inline">\(\mathbf{w}\)</span> we want:<br />
<strong>Asymptotically</strong> (to say <span class="math inline">\(k \rightarrow \infty\)</span> ) <span class="math inline">\(P\)</span> would define a reversible Markov chain, which is saying <span class="math inline">\(\pi_{i}=v_{i} /\left(\sum_{j} v_{j}\right)\)</span> is a <em>unique</em> stationary distribution.<br />
Also in the ideal setting, <span class="math inline">\(P_{ij}=\tilde{P}_{ij}=\left(1 / d_{\max }\right) w_{j} /\left(w_{i}+w_{j}\right)\)</span> is a <em>valid</em> stationary distribution. So this random walk constructed has a stationary distribution <span class="math inline">\(\pi = \mathbf{w}\)</span>.</p>
<h3 id="error-bound">Error Bound</h3>
<p>Each pair is chosen with probability <span class="math inline">\(d/n\)</span>. Then there exists positive universal constatns <span class="math inline">\(C,C&#39;,C&#39;&#39;\)</span> such that when <span class="math inline">\(d\geq C(log n)^2\)</span>, and <span class="math inline">\(k d \geq C b^5 \log n\)</span>, the following bound on the error rate hold with probability at least <span class="math inline">\(1-C&#39;&#39;/n^3\)</span>: <span class="math display">\[\frac{\|\pi-\tilde{\pi}\|}{\|\tilde{\pi}\|} \leq C^{\prime} b^{3} \sqrt{\frac{\log n}{k d}},\]</span> where <span class="math inline">\(\tilde{\pi}(i)=w_{i} / \sum_{\ell} w_{\ell}\)</span> and <span class="math inline">\(b \equiv \max _{i, j} w_{i} / w_{j}\)</span>. More details could be found in <strong>Theorem 1</strong><span class="citation" data-cites="negahban2012iterative">(Negahban, Oh, and Shah <a href="#ref-negahban2012iterative">2012</a>)</span>.</p>
<h3 id="mixing-time">Mixing time</h3>
<p>However, the mixing time is quite long due to the self-loop. Another recent paper <span class="citation" data-cites="agarwal2018accelerated">(Agarwal, Patil, and Agarwal <a href="#ref-agarwal2018accelerated">2018</a>)</span> tries to address this problem by using a slightly different construction for the random walk. Instead of scaling all rows by the max out-degree, this algorithm scales different rows using the out-degree of corresponding node: <span class="math display">\[P_{i j}^{acc}=\left\{\begin{aligned} \frac{1}{d_{i }} A_{i j} &amp;\quad \text { if } i \neq j \\ 0 &amp;\quad \text { if } i=j \end{aligned}\right.\]</span><br />
The detailed balance equation then becomes <span class="math display">\[w_{i} d_{i} P_{i j}^{acc}=w_{j} d_{j} P_{j i}^{acc},\]</span> then it is easy to see the stationary distribution of this random walk is <span class="math inline">\(\pi^{acc} = \mathbf{D} \mathbf{w} /\|\mathbf{D} \mathbf{w}\|_{1}\)</span>, where <span class="math inline">\(\mathbf{D}\)</span> is the diagonal matrix where <span class="math inline">\(\mathbf{D}_{ii}=d_i\)</span>.</p>
<p>Intuitively we know the random walk with less self-loop should have a smaller mixing time. This statement could be proved rigourously by considering <em>spectral gap</em> of the transition matrix (See <strong>Lemma 1</strong> and <strong>proposition 2</strong> in <span class="citation" data-cites="agarwal2018accelerated">(Agarwal, Patil, and Agarwal <a href="#ref-agarwal2018accelerated">2018</a>)</span>).</p>
<h2 id="low-rank-completion">Low rank completion</h2>
<p>In this paper<span class="citation" data-cites="rajkumar2016can">(Rajkumar and Agarwal <a href="#ref-rajkumar2016can">2016</a>)</span>, it introduces a new class of preference matrices, which is <strong>Low rank</strong> matrix. The definition of this class of matrices is as follows: <em>Let <span class="math inline">\(\psi :[0,1] \rightarrow \mathbb{R}\)</span> be a link function and <span class="math inline">\(r \in [n]\)</span>. Define the class of rank-<span class="math inline">\(r\)</span> preference matrices under <span class="math inline">\(\psi\)</span> as</em> <span class="math display">\[\mathcal{P}_{n}^{\mathrm{LR}(\psi, r)}=\left\{\mathbf{P} \in \mathcal{P}_{n} | \operatorname{rank}(\psi(\mathbf{P})) \leq r\right\}.\]</span> It is mentioned in the paper that both BTL and Thurstone model are special cases of this more general class of preference matrices, thus this ranking problem could be reformulated as a low-rank completion problem.</p>
<h2 id="summary">Summary</h2>
<p>The rank aggregation problem is a common model in real-life applications such as sports, recommendation systems, etc. In this article, my sight is limited to pairwise comparisons, while there is a more general setting that an item is compared to a subset of items. There are also abundent works on active choosing samples under this situation. Some possible future works could be to have better bound or better sample complexity as well as to explore more posibiliies on active selecting samples.</p>
<h2 id="acknowledgments" class="appendix">Acknowledgments</h2>
<p>Distill is a publication format for scientific and technical writing, native to the web.</p>
<p>Learn more about using Distill at <a href="https://rstudio.github.io/distill" class="uri">https://rstudio.github.io/distill</a>.</p>
<div id="refs" class="references">
<div id="ref-agarwal2018accelerated">
<p>Agarwal, Arpit, Prathamesh Patil, and Shivani Agarwal. 2018. “Accelerated Spectral Ranking.” In <em>International Conference on Machine Learning</em>, 70–79. <a href="http://proceedings.mlr.press/v80/agarwal18b/agarwal18b.pdf">http://proceedings.mlr.press/v80/agarwal18b/agarwal18b.pdf</a>.</p>
</div>
<div id="ref-agarwal2006ranking">
<p>Agarwal, Shivani. 2006. “Ranking on Graph Data.” In <em>Proceedings of the 23rd International Conference on Machine Learning</em>, 25–32. ACM. <a href="https://www.shivani-agarwal.net/Publications/2006/icml06-graph-ranking.pdf">https://www.shivani-agarwal.net/Publications/2006/icml06-graph-ranking.pdf</a>.</p>
</div>
<div id="ref-agarwal2005stability">
<p>Agarwal, Shivani, and Partha Niyogi. 2005. “Stability and Generalization of Bipartite Ranking Algorithms.” In <em>International Conference on Computational Learning Theory</em>, 32–47. Springer. <a href="https://people.cs.uchicago.edu/~niyogi/papersps/AgaNiycolt.pdf">https://people.cs.uchicago.edu/~niyogi/papersps/AgaNiycolt.pdf</a>.</p>
</div>
<div id="ref-bousquet2002stability">
<p>Bousquet, Olivier, and André Elisseeff. 2002. “Stability and Generalization.” <em>Journal of Machine Learning Research</em> 2 (Mar): 499–526. <a href="http://www.jmlr.org/papers/volume2/bousquet02a/bousquet02a.pdf">http://www.jmlr.org/papers/volume2/bousquet02a/bousquet02a.pdf</a>.</p>
</div>
<div id="ref-negahban2012iterative">
<p>Negahban, Sahand, Sewoong Oh, and Devavrat Shah. 2012. “Iterative Ranking from Pair-Wise Comparisons.” In <em>Advances in Neural Information Processing Systems</em>, 2474–82. <a href="https://papers.nips.cc/paper/4701-iterative-ranking-from-pair-wise-comparisons.pdf">https://papers.nips.cc/paper/4701-iterative-ranking-from-pair-wise-comparisons.pdf</a>.</p>
</div>
<div id="ref-rajkumar2016can">
<p>Rajkumar, Arun, and Shivani Agarwal. 2016. “When Can We Rank Well from Comparisons of O (N<span class="math inline">\(\backslash\)</span>log (N)) Non-Actively Chosen Pairs?” In <em>Conference on Learning Theory</em>, 1376–1401. <a href="http://proceedings.mlr.press/v49/rajkumar16.pdf">http://proceedings.mlr.press/v49/rajkumar16.pdf</a>.</p>
</div>
</div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<script id="distill-bibliography" type="text/bibtex">
@inproceedings{agarwal2006ranking,
  title={Ranking on graph data},
  author={Agarwal, Shivani},
  booktitle={Proceedings of the 23rd international conference on Machine learning},
  pages={25--32},
  year={2006},
  organization={ACM},
  url = {https://www.shivani-agarwal.net/Publications/2006/icml06-graph-ranking.pdf}
}
@inproceedings{rajkumar2016can,
  title={When can we rank well from comparisons of O (n$\backslash$log (n)) non-actively chosen pairs?},
  author={Rajkumar, Arun and Agarwal, Shivani},
  booktitle={Conference on Learning Theory},
  pages={1376--1401},
  year={2016},
  url = {http://proceedings.mlr.press/v49/rajkumar16.pdf}
}
@inproceedings{agarwal2018accelerated,
  title={Accelerated spectral ranking},
  author={Agarwal, Arpit and Patil, Prathamesh and Agarwal, Shivani},
  booktitle={International Conference on Machine Learning},
  pages={70--79},
  year={2018},
  url={http://proceedings.mlr.press/v80/agarwal18b/agarwal18b.pdf}
}
@inproceedings{agarwal2005stability,
  title={Stability and generalization of bipartite ranking algorithms},
  author={Agarwal, Shivani and Niyogi, Partha},
  booktitle={International Conference on Computational Learning Theory},
  pages={32--47},
  year={2005},
  organization={Springer},
  url={https://people.cs.uchicago.edu/~niyogi/papersps/AgaNiycolt.pdf}
}
@inproceedings{negahban2012iterative,
  title={Iterative ranking from pair-wise comparisons},
  author={Negahban, Sahand and Oh, Sewoong and Shah, Devavrat},
  booktitle={Advances in neural information processing systems},
  pages={2474--2482},
  year={2012},
  url={https://papers.nips.cc/paper/4701-iterative-ranking-from-pair-wise-comparisons.pdf}
}
@article{bousquet2002stability,
  title={Stability and generalization},
  author={Bousquet, Olivier and Elisseeff, Andr{\'e}},
  journal={Journal of machine learning research},
  volume={2},
  number={Mar},
  pages={499--526},
  year={2002},
  url={http://www.jmlr.org/papers/volume2/bousquet02a/bousquet02a.pdf}
}
</script>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
